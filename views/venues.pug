extends layout.pug

block content
    h1 Venue List
    br
    div
        -let venues = [];
        each val in documents
            -let venue = val.venue;
            -venues.push(venue);
        -let venueObject = {};
        -let counts = {};
        -venues.sort();
        -venues.forEach(function(x) { counts[x] = (counts[x] || 0)+1; });
        -let venuesList = [];
        -for (i=0; i < Object.entries(counts).length; i++) {
            -venuesList.push(Object.entries(counts)[i]); }
        -let fullList = [];
    table#venues
        tr
            th Venue
            th # Of Shows
        each venue in venuesList
            tr
                td #{venue[0]} 
                td #{venue[1]}